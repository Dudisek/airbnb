<%if @listing.errors.any?%>
  <div class="alert alert-danger" role="alert">
  <h2><%=pluralize(@listing.errors.count, "errror")%> prohibited this listing from being saved:</h2>
    <div class="alert alert-warning" role="alert">
      <ol>
      <%@listing.errors.full_messages.each do |error| %>
      <li> <%=error%>. <br></li>
      <%end%>
      </ol>
    </div>
  </div>
<%end%>

<%= form_for @listing, html: {multipart: true} do |f| %> 
  <p>
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </p>
 
  <p>
    <%= f.label :start %><br>
    <%= f.date_field :start %>
  </p>

  <p>
    <%= f.label :end %><br>
    <%= f.date_field :end %>
  </p> 

  <p>
    <%= f.label :price %><br>
    <%= f.number_field :price %>
  </p>     

  <p>
    <%= f.label :number_of_guests %><br>
<%= select(:listing, :num_of_guest, [[1], [2], [3], [4], [5], [6], [7], [8]]) %>
  </p>  
  <p>
    <%= f.label :room_type %><br>
	<%= radio_button "listing" ,:room_type, "Entire home" %>
	<%= label_tag(:room_home, "Entire Home") %> &nbsp; | 
	<%= radio_button "listing", :room_type, "Private room" %>
	<%= label_tag(:room_private, "Private room") %> &nbsp; | 
	<%= radio_button "listing", :room_type, "Shared room" %>
	<%= label_tag(:room_shared, "Shared room") %> &nbsp;
  </p>  
  <p>
    <%= f.label :description %><br>
    <%= f.text_area :body %>
  </p>  
  <p>
  <%= f.label :picture %>
  <%= f.file_field :picture, multiple: true, accept: 'image/jpeg, image/jpg, image/gif, image/png' %>
  </p>

  <p>
  <%= f.label :tags %>
  <%= f.text_field :tag_list %>
  </p>


  <p>
    <%= f.label :street_number %><br>
    <%= f.text_field :address_street_number %>
  </p>  

  <p>
    <%= f.label :street %><br>
    <%= f.text_field :address_street %>
  </p>  

  <p>
    <%= f.label :city %><br>
    <%= f.text_field :address_city %>
  </p>

  <p>
    <%= f.label :zip_code %><br>
    <%= f.text_field :address_zip_code %>
  </p>    

  <p>
    <%= f.label :State %><br>
    <%= f.text_field :address_state %>
  </p>    

   <p>
    <%= f.label :Country %><br>
    <%= f.text_field :address_country %>
  </p>    

    <div class="jt-address-autocomplete">
        <!-- This field is used to search the address on Google Maps -->
        <%= f.text_field :address, class: 'jt-address-search' %>

        <!-- All fields are hidden because the javascript will set their value automatically -->
        <% for attr in JT::Rails::Address.fields %>
            <%= f.hidden_field "address_#{attr}", class: "jt-address-field-#{attr}" %>
        <% end %>
    </div>



  <p>
    <%= f.submit %>
  </p>
 
<% end %>
 
<%= link_to 'Back', listings_path %>